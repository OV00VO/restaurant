<!-- Reference: Code Institute Curriculum and Code Star Project -->
<!-- Reference: https://github.com/flatplanet/Django-CRM -->
<!-- Reference: https://getbootstrap.com -->
<!-- Notes: Below code is based on the above references and modifed for the project -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Fine Dine - Update Reservation</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
      integrity="sha512-QsHKsL+MskQ4hfXk6MHwljUOJMAhKH3m+KwHlZnPqZxlLdvPUvxttQYPtCfhOXLnPkyMjYm9YWddqwo4lXegSA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer">
  </head>
  <body>
    {% extends 'base.html' %} {% block content %}
    {% load crispy_forms_tags %}
    <br>
    <br>
    <br>
    <br>
    <br>
    <div class="container">
      <div class="col-md-6 mb-6">
        <h2>Reservation Update for User:</h2><h3>{{ user.username }}</h3></div> 
        <p>Current information for the booking name: <b>{{ reservation.name }}</b>, with ID no: <b>{{ reservation.id }}</b></p>
        {% if reservation %}
        <form
          method="POST"
          action="{% url 'update_reservation' reservation.id %}">
          {% csrf_token %}
          {{ form|crispy }}

          <div class="form-group">
            <label for="agreed_to_terms">
              <input type="checkbox" id="agreed_to_terms" name="agreed_to_terms" required>
              I agree to the <a href="/agreed_to_terms">Terms and Conditions</a>.
            </label>
            {% if form.errors.agreed_to_terms %}
              <ul class="errorlist">
                <li>{{ form.errors.agreed_to_terms }}</li>
              </ul>
            {% endif %}
          </div><br>

          <div class="col-12">
            <button type="submit" class="btn btn-primary">Save Changes</button> <a href="{% url 'my_reservations' %}"
            class="btn btn-success"
            >Back to Your Reservations</a>
        </div>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
      </form>
    {% else %}
    <p>Reservation not found.</p></div> 
   
    {% endif %} 
    {% endblock %}